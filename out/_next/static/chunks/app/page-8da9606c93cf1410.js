(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4405:function(e,t,a){Promise.resolve().then(a.bind(a,8731))},8731:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var s=a(7437),r=a(2265);let n=(0,r.createContext)(),l={startDate:new Date().toISOString().split("T")[0],frequency:"daily",interval:1,daysOfWeek:[],monthlyType:"date",endType:"never",endDate:"",endCount:1,upcomingDates:[]};function d(e,t){switch(t.type){case"SET_START_DATE":return{...e,startDate:t.payload};case"SET_FREQUENCY":return{...e,frequency:t.payload,daysOfWeek:"weekly"===t.payload?e.daysOfWeek:[]};case"SET_INTERVAL":return{...e,interval:t.payload};case"SET_DAYS_OF_WEEK":return{...e,daysOfWeek:t.payload};case"SET_MONTHLY_TYPE":return{...e,monthlyType:t.payload};case"SET_END_TYPE":return{...e,endType:t.payload};case"SET_END_DATE":return{...e,endDate:t.payload};case"SET_END_COUNT":return{...e,endCount:t.payload};case"SET_UPCOMING_DATES":return{...e,upcomingDates:t.payload};case"RESET":return l;default:return e}}function c(e){let{children:t}=e,[a,c]=(0,r.useReducer)(d,l);return(0,s.jsx)(n.Provider,{value:{state:a,dispatch:c},children:t})}function i(){let e=(0,r.useContext)(n);if(!e)throw Error("useRecurringDate must be used within a RecurringDateProvider");return e}let o=[{value:"daily",label:"Daily",icon:"\uD83D\uDCC5"},{value:"weekly",label:"Weekly",icon:"\uD83D\uDCC6"},{value:"monthly",label:"Monthly",icon:"\uD83D\uDDD3️"},{value:"yearly",label:"Yearly",icon:"\uD83D\uDCCA"}];function u(){let{state:e,dispatch:t}=i();return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Frequency"}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:o.map(a=>(0,s.jsxs)("button",{onClick:()=>t({type:"SET_FREQUENCY",payload:a.value}),className:"p-3 rounded-lg border-2 transition-all duration-200 hover:scale-105 ".concat(e.frequency===a.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"),children:[(0,s.jsx)("div",{className:"text-lg mb-1",children:a.icon}),(0,s.jsx)("div",{className:"text-sm font-medium",children:a.label})]},a.value))})]})}function y(){let{state:e,dispatch:t}=i();return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Repeat every"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("input",{type:"number",min:"1",max:"999",value:e.interval,onChange:e=>t({type:"SET_INTERVAL",payload:parseInt(e.target.value)||1}),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-center"}),(0,s.jsx)("span",{className:"text-gray-700 font-medium",children:(()=>{switch(e.frequency){case"daily":return"day(s)";case"weekly":return"week(s)";case"monthly":return"month(s)";case"yearly":return"year(s)";default:return"time(s)"}})()})]})]})}let x=[{value:"monday",label:"Mon",fullLabel:"Monday"},{value:"tuesday",label:"Tue",fullLabel:"Tuesday"},{value:"wednesday",label:"Wed",fullLabel:"Wednesday"},{value:"thursday",label:"Thu",fullLabel:"Thursday"},{value:"friday",label:"Fri",fullLabel:"Friday"},{value:"saturday",label:"Sat",fullLabel:"Saturday"},{value:"sunday",label:"Sun",fullLabel:"Sunday"}];function m(){let{state:e,dispatch:t}=i(),a=a=>{let s=e.daysOfWeek.includes(a)?e.daysOfWeek.filter(e=>e!==a):[...e.daysOfWeek,a];t({type:"SET_DAYS_OF_WEEK",payload:s})};return(0,s.jsxs)("div",{className:"space-y-3 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Select days of the week"}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-2",children:x.map(t=>(0,s.jsx)("button",{onClick:()=>a(t.value),className:"p-2 rounded-lg text-xs font-medium transition-all duration-200 hover:scale-105 ".concat(e.daysOfWeek.includes(t.value)?"bg-blue-600 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:border-gray-300"),title:t.fullLabel,children:t.label},t.value))}),0===e.daysOfWeek.length&&(0,s.jsx)("p",{className:"text-xs text-gray-500 italic",children:"Select at least one day for weekly recurrence"})]})}function p(){let{state:e,dispatch:t}=i();return(0,s.jsxs)("div",{className:"space-y-3 p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Monthly recurrence type"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"monthlyType",value:"date",checked:"date"===e.monthlyType,onChange:e=>t({type:"SET_MONTHLY_TYPE",payload:e.target.value}),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"Monthly on date (e.g., 15th of every month)"})]}),(0,s.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"monthlyType",value:"day",checked:"day"===e.monthlyType,onChange:e=>t({type:"SET_MONTHLY_TYPE",payload:e.target.value}),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"Monthly on day (e.g., 3rd Tuesday of every month)"})]})]})]})}function h(){let{state:e,dispatch:t}=i();return(0,s.jsxs)("div",{className:"space-y-3 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"End recurrence"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"endType",value:"never",checked:"never"===e.endType,onChange:e=>t({type:"SET_END_TYPE",payload:e.target.value}),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"Never"})]}),(0,s.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"endType",value:"date",checked:"date"===e.endType,onChange:e=>t({type:"SET_END_TYPE",payload:e.target.value}),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"On date"})]}),"date"===e.endType&&(0,s.jsx)("input",{type:"date",value:e.endDate,onChange:e=>t({type:"SET_END_DATE",payload:e.target.value}),className:"ml-7 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"}),(0,s.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"endType",value:"count",checked:"count"===e.endType,onChange:e=>t({type:"SET_END_TYPE",payload:e.target.value}),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"After"})]}),"count"===e.endType&&(0,s.jsxs)("div",{className:"ml-7 flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"number",min:"1",value:e.endCount,onChange:e=>t({type:"SET_END_COUNT",payload:parseInt(e.target.value)||1}),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-center"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"occurrences"})]})]})]})}function g(){let{state:e}=i(),t=e=>{let t=new Date(e);return t.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})};return(0,s.jsxs)("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,s.jsxs)("h3",{className:"text-sm font-medium text-gray-700 flex items-center space-x-2",children:[(0,s.jsx)("span",{children:"\uD83D\uDCCB"}),(0,s.jsx)("span",{children:"Upcoming Dates Preview"})]}),e.upcomingDates.length>0?(0,s.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:e.upcomingDates.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-gray-100 hover:border-gray-200 transition-colors",children:[(0,s.jsx)("span",{className:"text-sm text-gray-700",children:t(e)}),(0,s.jsxs)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:["#",a+1]})]},a))}):(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,s.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDCC5"}),(0,s.jsx)("p",{className:"text-sm",children:"weekly"===e.frequency&&0===e.daysOfWeek.length?"Select days of the week to see preview":"No upcoming dates to show"})]}),e.upcomingDates.length>=10&&(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Showing first 10 occurrences"})]})}function f(e){let t=e.getDay();return 0===t?6:t-1}function b(e){return["monday","tuesday","wednesday","thursday","friday","saturday","sunday"][e]}function N(e){let{onRuleChange:t}=e,{state:a,dispatch:n}=i();return(0,r.useEffect)(()=>{let e=function(e){let{startDate:t,frequency:a,interval:s,daysOfWeek:r,monthlyType:n,endType:l,endDate:d,endCount:c}=e;if(!t||!a)return[];let i=[],o=new Date(t),u="count"===l?c:10,y="date"===l&&d?new Date(d):null,x=new Date(o),m=0;for(;m<u;){let e=null;switch(a){case"daily":0===m||x.setDate(x.getDate()+s),e=new Date(x);break;case"weekly":if(0===r.length)return[];if(0===m){let t=f(x),a=b(t);if(r.includes(a))e=new Date(x);else{let a=function(e,t){let a=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];for(let s=1;s<=7;s++){let r=(e+s)%7;if(t.includes(a[r]))return s}return 7}(t,r);x.setDate(x.getDate()+a),e=new Date(x)}}else e=function(e,t,a){let s=f(e);b(s);let r=t.filter(e=>{let t=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].indexOf(e);return t>s});if(r.length>0){let t=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].indexOf(r[0]),a=t-s,n=new Date(e);return n.setDate(n.getDate()+a),n}{let s=new Date(e);s.setDate(s.getDate()+7*(a-1+1));let r=new Date(s);r.setDate(r.getDate()-f(r));let n=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],l=t.sort((e,t)=>n.indexOf(e)-n.indexOf(t))[0],d=n.indexOf(l);return r.setDate(r.getDate()+d),r}}(x,r,s),x=new Date(e);break;case"monthly":if(0===m)e=new Date(x);else if("date"===n)x.setMonth(x.getMonth()+s),e=new Date(x);else{let t=function(e,t){let a=e.getDay(),s=Math.ceil(e.getDate()/7),r=new Date(e);r.setMonth(r.getMonth()+t),r.setDate(1);let n=new Date(r);for(;n.getDay()!==a;)n.setDate(n.getDate()+1);return n.setDate(n.getDate()+7*(s-1)),n.getMonth()!==r.getMonth()&&n.setDate(n.getDate()-7),n}(x,s);x=t,e=new Date(x)}break;case"yearly":0===m||x.setFullYear(x.getFullYear()+s),e=new Date(x)}if(e){if(y&&e>y)break;i.push(e.toISOString().split("T")[0]),m++}else break}return i}(a);n({type:"SET_UPCOMING_DATES",payload:e});let s=function(e){let{startDate:t,frequency:a,interval:s,daysOfWeek:r,monthlyType:n,endType:l,endDate:d,endCount:c}=e,i={startDate:t,frequency:a,interval:s||1};return"weekly"===a&&r.length>0&&(i.daysOfWeek=r),"monthly"===a&&(i.monthlyType=n),"never"!==l&&(i.endType=l,"date"===l&&d&&(i.endDate=d),"count"===l&&c&&(i.endCount=c)),i}(a);t&&t(s)},[a.startDate,a.frequency,a.interval,a.daysOfWeek,a.monthlyType,a.endType,a.endDate,a.endCount,t,n]),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6 text-white",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Set Recurring Pattern"}),(0,s.jsx)("p",{className:"text-blue-100",children:"Configure when and how often this should repeat"})]}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date"}),(0,s.jsx)("input",{type:"date",value:a.startDate,onChange:e=>n({type:"SET_START_DATE",payload:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),(0,s.jsx)(u,{}),(0,s.jsx)(y,{}),"weekly"===a.frequency&&(0,s.jsx)(m,{}),"monthly"===a.frequency&&(0,s.jsx)(p,{}),(0,s.jsx)(h,{}),(0,s.jsx)(g,{})]})]})}function v(){let[e,t]=(0,r.useState)(null);return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Recurring Date Picker"}),(0,s.jsx)("p",{className:"text-gray-600 text-lg",children:"Select recurring dates with flexible patterns, just like TickTick"})]}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:(0,s.jsx)(c,{children:(0,s.jsx)(N,{onRuleChange:e=>{t(e),console.log("New recurring rule:",e)}})})}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Current Configuration"}),e?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Pattern:"}),(0,s.jsx)("span",{className:"text-sm text-gray-900 capitalize",children:e.frequency})]}),e.interval&&(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Interval:"}),(0,s.jsxs)("span",{className:"text-sm text-gray-900",children:["Every ",e.interval," ",e.frequency,"(s)"]})]}),e.daysOfWeek&&e.daysOfWeek.length>0&&(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Days:"}),(0,s.jsx)("span",{className:"text-sm text-gray-900",children:e.daysOfWeek.join(", ")})]}),e.endType&&(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Ends:"}),(0,s.jsxs)("span",{className:"text-sm text-gray-900",children:["never"===e.endType&&"Never","date"===e.endType&&"On ".concat(e.endDate),"count"===e.endType&&"After ".concat(e.endCount," occurrences")]})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Raw Configuration:"}),(0,s.jsx)("pre",{className:"bg-gray-50 p-3 rounded-lg text-xs text-gray-700 overflow-auto",children:JSON.stringify(e,null,2)})]})]}):(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:"Configure a recurring pattern to see the details here."})]})]})]})})}},622:function(e,t,a){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=a(2265),r=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,a){var s,c={},i=null,o=null;for(s in void 0!==a&&(i=""+a),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(o=t.ref),t)n.call(t,s)&&!d.hasOwnProperty(s)&&(c[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===c[s]&&(c[s]=t[s]);return{$$typeof:r,type:e,key:i,ref:o,props:c,_owner:l.current}}t.jsx=c,t.jsxs=c},7437:function(e,t,a){"use strict";e.exports=a(622)}},function(e){e.O(0,[971,864,744],function(){return e(e.s=4405)}),_N_E=e.O()}]);